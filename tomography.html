<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<title>Tomography</title>
	<link href="tomography.css" rel="stylesheet" type="text/css">
  <link rel='stylesheet' href='range-slider.css' type='text/css' />
	<!--[if lte IE 8]><script language="javascript" type="text/javascript" src="../../excanvas.min.js"></script><![endif]-->
	<link href='https://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css' rel='stylesheet'>
  <!--<script src='http://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js'></script>-->
  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}
    });
    </script>
  <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
</head>
<body onload = 'genMatricies()'>
	<div class='container'>
		<div class='row col-xs-12'>
			<h1> Tomography </h1>
			Estimate a target from noisy line integral measurements. <a href = http://web.stanford.edu/class/ee103/lectures/tomography/tomography_slides.pdf> More. </a>

					<div id = 'newTargetButtonContainer'> <button type = "button" id = "newTargetButton" class='new-img btn btn-danger' onclick = 'newTarget()'>New target</a></div>
		</div>


				<img id = "hidden_target"></img>

				<script type="text/javascript">
					var numImages = 22;
	    			var num = Math.floor(Math.random()*numImages) + 1;
	    			var imageFile = 'img/img' + num + ".png";
					//var imageFile = 'img5/bone.jpeg'
	    			//for testing purposes: 
	    			//var imageFile = 'img/img1.png'
	    			document.getElementById("hidden_target").src = imageFile;
    		 	</script>	



    		 	<div id = "lineIntegrals-container">
    		 		<b> Line integrals </b>

					<div class = "demo-container" id = "lines-plot"> </div>

					<div id = "heatmap">
						<img src = "img/heatmap.png" style="width: 100%; height: 100%;"> </img> 
					</div>


    		 		<div id = "lineIntegralsButton">
    		 			line integral count
						<select id = "numLineInput" onchange = "showLines(numLineInput.value, numLineInput.selectedIndex)"/>
						<datalist id = "datalist">
		    			<option value = "500">500</option>
		    			<option value = "1000" selected>1000</option>
		   				<option value = "2000">2000</option>
						</select> 	
					</div>

				</div>


				<br></br>


				<div id = "target-container">
					<b> Reconstruction </b> 

					<div id = "lambdaSlider">
						smoothing parameter $\lambda $  <div class='range-slider' id='lambda-slider'></div> 
						<span id = "lambdarange"> 1 </span>
						<button type = "button" class='new-img btn btn-danger' id = 'reconstructButton' onclick = 'tomography(lambda)'>Reconstruct target</a>
					</div>

					<div class="demo-container" id = "targetReconstruction"> </div>
					<br> </br>
				</div>


				<div id = "true-target-container">
				<b> True target </b>

				<div id = "showTargetButton">
				<button type = "button" class='new-img btn btn-danger' id = 'trueTargetButton' onclick = 'showTarget()'>Show target</a>
				</div>
			

				<div class = "demo-container" id = "trueTargetBox"> </div>
				<br> </br>
				</div>

		



	</div>
	 <footer>
      Made for <a href='http://ee103.stanford.edu/'>EE103</a>. Source code on <a href = "https://github.com/nitromannitol/tomography-visualizer">Github.</a>
    </footer>


 <script src='https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js'></script>
  <script src='numeric-1.2.6.js'></script>
  <script src='range-slider.js'></script>
  <script src='tomo-linalg.js'></script>
  <script src='tomography.js'></script>
    <script src='jquery.flot.js'></script>
</body>
</html>

